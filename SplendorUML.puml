@startuml

class Jeu {
--
- nouvellePartie():void
- reprendrePartie():void
- verifAnciennePartie():void
- verifGagnant(): void
- sauvegarderPartie():void
- vainqueur(): Joueur
- auSuivant(): Joueur
- affichage()
- afficherRegles()
- afficherConditionVictoire()
- afficherPoint()
}


class Plateau {
- jetons:Jeton[25]
- privilege:Privilege[]
- sac:Jeton[]
- cartes_nobles:CarteNoble[]
--
+ etatPlateau()
+ remplissagePlateau(): Plateau
+ verificationChoixJetonPlateau()
+ ajouterSac(Jeton)
+ prendreJeton(position_x:int, position_y:int):Jeton
+ prendrePrivilege():Privilege
+ prendreCarteNoble(numero:int):CarteNoble
- verifierSiOrDansChoix()
}



class Joueur {
- pseudo: string
- nombre_couronnes: int
- points_prestige_total:int
- points_prestige_couleurs:int[5]
- cartes_reservees:CarteJoaillerie[]
- cartes_main:CarteJoaillerie[6]
- cartes_noble:CarteNoble[]
- gemmes_bonus:int[5]
- privileges:Privilege[]
+ getPoints():int[3]
+ ajouterCarteJoaillerie(CarteJoaillerie)
+ ajouterCarteNoble(CarteNoble)
+ ajouterCarteReservee(CarteJoaillerie)
+ ajouterPrivilege(Privilege)
}

class IA {
- difficulte: Difficulte
}

enum Difficulte <<enumeration>> {
 facile
 moyen
 difficile
}

class Jeton {
- chemin_vers_image:string
}
class Privilege {
}
class Or {
}
class Gemme {
-couleur: Couleur
}
enum Couleur <<enumeration>> {
 bleu
 vert
 rouge
 blanc
 noir
 rose
}


class Pioche{
- numero_pioche:int
- cartes_dans_pioche:CarteJoaillerie[]
- cartes_dehors:CarteJoaillerie[]
- max_cartes_revelees:int
+ joueurPrend(numero_carte:int):CarteJoaillerie
+ distribution()
}
class Carte {
- chemin_vers_image:string
- point_prestige:int
- courronnes:int
- pouvoir: Pouvoir
+ actionPouvoir()
- existancePouvoir():Pouvoir
- prendrePrivilege():Privilege
- volerJeton():Jeton
- prendreJeton():Jeton
- rejouer()
- rajouteBonus()
}

class CarteNoble {
-couronne{2,3}: int
}

class CarteJoaillerie {
-niveau[1..3]: int
-couronne[0..2]: int
-pierre: boolean
-type_pierre: Couleur
--
+ getPrix():Gemme[]
}
note left: type_pierre null quand pierre = false


enum Pouvoir <<enumeration>> {
 rien
 nouveau_tour
 bonus_pierre
 pierre_en_plus
 privilege_en_plus
 vol_pierre
}



class Action {
- verifObligationRemplissage()
+ validationAction()
}

class Optionnelle {
- depenserPrivilege()
- remplissagePlateau(): Plateau
}

class Obligatoire {
- prendreJeton(): Jeton[]
- reserverCarte():CarteJoaillerie
- acheterCarte():CarteJoaillerie
}




Joueur <|-- IA
Joueur <|-- Humain

Jeu "1" -- "1" Plateau: comporte >
Jeu "1" -- "2" Joueur: possède >
Jeu "1" -- "3" Pioche: possède >


Plateau "1" -- "0...25" Jeton: possède >
Plateau "1"--"0..3" Privilege: comporte >
Plateau "1"--"0...4" CarteNoble: contient >
'Plateau "1"-"3" Pioche

Pioche "1"--o CarteJoaillerie

Jeton <|-- Or
Jeton <|-- Gemme

Joueur "1" -- "0..3" Privilege: détient >
Joueur "1" -- "0..10" Jeton: possède >
Joueur "1"-- "1..3" Action: effectue >

Carte <|-- CarteNoble
Carte <|-- CarteJoaillerie


Action <|-- Optionnelle
Action <|-- Obligatoire
Action "0...1"-"1" Plateau : concerne >
Obligatoire "1"-"1" Pioche : concerne >



@enduml
